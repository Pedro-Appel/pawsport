method: post
url: /api/v1/vaccines
requestBody:
  type: application/json
  data: |-
    {
        "type": "HIV",
        "date": "2025-11-01",
        "expirationDate": "2030-11-20",
        "vetId": "{{petId}}",
        "petId": "{{petId}}"
    }
postProcessors:
  - type: assertion
    data:
      name: Response Code OK
      subject: httpCode
      comparison: equal
      value: "201"
      path: ""
      multipleValue: []
      extractSettings:
        expression: ""
        continueExtractorSettings:
          isContinueExtractValue: false
          JsonArrayValueIndexValue: ""
    defaultEnable: true
    enable: true
  - type: extractor
    data:
      variableName: location
      variableType: environment
      subject: responseHeader
      template: ""
      expression: Location
      extractSettings:
        expression: Location
        continueExtractorSettings:
          isContinueExtractValue: false
          JsonArrayValueIndexValue: ""
    defaultEnable: true
    enable: true
  - type: customScript
    data: |
      let loc = pm.environment.get("location")
      let id = loc.substring(loc.lastIndexOf("/")+1)
      pm.environment.set("vaccineId", id);
    defaultEnable: true
    enable: true
